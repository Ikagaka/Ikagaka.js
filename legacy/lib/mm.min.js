(function(q){function z(j){var r=[],k,p=0;for(k in j)j.hasOwnProperty(k)&&(r[p++]=k);return r}function M(j,r,k){var p=0;"value"in k&&(p|=1);"get"in k&&(p|=2);"set"in k&&(p|=4);if(p&1&&p&6)throw new TypeError("BAD_ARG");p&1&&(j[r]=k.value);p&2&&j.__defineGetter__(r,k.get);p&4&&j.__defineSetter__(r,k.set)}function J(){return+new Date}function R(j){return Object.prototype.toString.call(j)==="[object Array]"}function u(j,r){for(var k=0,p=this.length,F=Array(p);k<p;++k)if(k in this)F[k]=j.call(r,this[k],
k,this);return F}function A(j,r){for(var k=0,p=this.length;k<p;++k)if(k in this&&j.call(r,this[k],k,this))return true;return false}function y(j,r){for(var k=0,p=this.length;k<p;++k)if(k in this&&!j.call(r,this[k],k,this))return false;return true}function G(j,r){for(var k=[],p,F=0,v=this.length;F<v;++F)if(F in this){p=this[F];j.call(r,p,F,this)&&k.push(p)}return k}function s(j,r,k){var p,F=0,v=(k=!!k)?--L:0,L=this.length;if(r!==void 0){p=r;++F}for(;k?v>=0:v<L;k?--v:++v)if(v in this)if(F)p=j(p,this[v],
v,this);else{p=this[v];++F}if(!F)throw Error("BAD_ARG");return p}function H(j,r){return s.call(this,j,r,true)}function N(j,r){var k=r||0,p=this.length;for(k=k<0?k+p:k;k<p;++k)if(k in this&&this[k]===j)return k;return-1}function O(j,r){var k=r,p=this.length;for(k=k<0?k+p+1:p;--k>=0;)if(k in this&&this[k]===j)return k;return-1}function m(j,r){for(var k=0,p=this.length;k<p;++k)k in this&&j.call(r,this[k],k,this)}function B(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function x(){return Array.prototype.slice.call(arguments)}
function t(j){for(var r=[],k=0,p=j.length;k<p;++k)r.push(j[k]);return r}function w(){var j={y:this.getUTCFullYear(),m:this.getUTCMonth()+1,d:this.getUTCDate()},r={h:this.getUTCHours(),m:this.getUTCMinutes(),s:this.getUTCSeconds(),ms:this.getUTCMilliseconds()};return j.y+"-"+(j.m<10?"0":"")+j.m+"-"+(j.d<10?"0":"")+j.d+"T"+(r.h<10?"0":"")+r.h+":"+(r.m<10?"0":"")+r.m+":"+(r.s<10?"0":"")+r.s+"."+("00"+r.ms).slice(-3)+"Z"}function T(j){return typeof j==="number"&&q.isFinite(j)&&j>-9007199254740992&&j<
9007199254740992&&Math.floor(j)===j}function U(j){j=+j;if(j!==j)return+0;if(j===0||!q.isFinite(j))return j;return(j<0?-1:1)*Math.floor(Math.abs(j))}function S(j){return this.length&&j>0?Array(j+1|0).join(this):""}function fa(){return this.split("").reverse().join("")}function W(j){var r,k=this,p=Array.prototype.slice.call(arguments,1),F=function(){};r=function(){return k.apply(this instanceof F?this:j,Array.prototype.concat.call(p,Array.prototype.slice.call(arguments)))};F.prototype=k.prototype;r.prototype=
new F;return r}function ja(j){if(/[^,:{}\[\]0-9\.\-+Eaeflnr-u \n\r\t]/.test(j.trim().replace(/"(\\.|[^"\\])*"/g,"")))throw new SyntaxError("Unexpected token:"+j);return(new Function("return "+j))()}function $(j){return X(j,0)}function X(j,r){var k=[],p,F,v,L;p=typeof j;var P=["{","}"];if(r>=100)throw new TypeError("Converting circular structure to JSON");if(j==null)return j+"";if(j.toJSON)return j.toJSON();if(p==="boolean"||p==="number")return""+j;if(p==="string")return'"'+aa(j)+'"';if(j.nodeType||
j.exec&&j.test)return"{}";if(Array.isArray(j)){P=["[","]"];v=0;for(L=j.length;v<L;++v)k.push(X(j[v],r+1))}else{p=Object.keys(j);v=0;for(L=p.length;v<L;++v){F=p[v];k.push('"'+aa(F)+'":'+X(j[F],r+1))}}return P[0]+k.join(",")+P[1]}function aa(j){var r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return j.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(k){return r[k]}).replace(/(?:[\x00-\x1f])/g,function(k){return"\\u00"+("0"+k.charCodeAt(0).toString(16)).slice(-2)})}
function Y(j){function r(){var ga=256;for(ka={};ga<512;++ga)ka[ga-256]=ga.toString(16).slice(-2);return ka}var k=[],p=0,F=j.length,v=0,L,P;for(P=ka||r();p<F;++p){v=j.charCodeAt(p);if(v<128){(L=v===95||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122)||(L=v===33||v===45||v===46||v===126||v>=39&&v<=42);L?k.push(j.charAt(p)):k.push("%",P[v])}else if(v<2048)k.push("%",P[v>>>6&31|192],"%",P[v&63|128]);else v<65536&&k.push("%",P[v>>>12&15|224],"%",P[v>>>6&63|128],"%",P[v&63|128])}return k.join("")}function ha(j){return j.replace(/(%[\da-f][\da-f])+/g,
function(r){var k=[];r=r.split("%").slice(1);for(var p=0,F=r.length,v,L,P;p<F;++p){v=parseInt(r[p],16);if(v!==v)throw Error("BAD_ARG");if(v<128)k.push(v);else if(v<224){L=parseInt(r[++p],16);k.push((v&31)<<6|L&63)}else if(v<240){L=parseInt(r[++p],16);P=parseInt(r[++p],16);k.push((v&15)<<12|(L&63)<<6|P&63)}}return String.fromCharCode.apply(null,k)})}function V(j,r){for(var k,p=Object.keys(r),F=0,v=p.length;F<v;++F){k=p[F];k in j||Object.defineProperty(j,k,{configurable:true,enumerable:false,writable:true,
value:r[k]})}}var ka;(function(){if(!Object.keys)Object.keys=z;if(!Object.defineProperties)Object.defineProperty=M;if(Date.prototype.toJSON&&(new Date).toJSON().length<24)Date.prototype.toJSON=w;V(Date,{now:J});V(Date.prototype,{toJSON:w});V(Array,{of:x,from:t,isArray:R});V(Array.prototype,{some:A,every:y,indexOf:N,lastIndexOf:O,filter:G,map:u,forEach:m,reduce:s,reduceRight:H});V(String.prototype,{trim:B,repeat:S,reverse:fa});V(Number,{isNaN:function(j){return typeof j==="number"&&q.isNaN(j)},isFinite:function(j){return typeof j===
"number"&&q.isFinite(j)},isInteger:T,toInteger:U});V(Function.prototype,{bind:W});q.JSON||(q.JSON={parse:ja,stringify:$});if(!q.encodeURIComponent)q.encodeURIComponent=Y;if(!q.decodeURIComponent)q.decodeURIComponent=ha})()})(this.self||global);var mm;
mm||function(q){function z(a){this._=a}function M(){this._deliverable={};this._broadcast=[];Object.defineProperty(this,"__CLASS__",{value:"Msg"});Object.defineProperty(this,"__CLASS_UID__",{value:$("class")})}function J(a,b,c){this._db={missables:0,waits:b,pass:0,miss:0,state:100,args:[],tick:c||null,fn:a};Object.defineProperty(this,"__CLASS__",{value:"Await"});Object.defineProperty(this,"__CLASS_UID__",{value:$("class")})}function R(a){return a instanceof z?new z(V(a._)):new z(a)}function u(a,b){if(a in
mm)throw new TypeError("ALREADY_EXISTS: "+a);mm.Interface[a]=b}function A(a,b,c){function d(){if(!d.__INSTANCE__){d.__INSTANCE__=this;g(this,arguments)}return d.__INSTANCE__}function e(){g(this,arguments)}function g(o,C){Object.defineProperty(o,"__CLASS__",{value:l.klass});Object.defineProperty(o,"__CLASS_UID__",{value:$("class")});for(var D=o,I=[];D=D.__BASE__;)D.init&&I.push(D);for(;D=I.pop();)D.init.apply(o,C);b.init&&b.init.apply(o,C);o.gc=function(){b.gc&&b.gc.call(o);for(D=o;D=D.__BASE__;)D.gc&&
D.gc.call(o);if(l.traits.has("Singleton")){delete d.__INSTANCE__;delete mm["i"+l.klass]}L(o);o.gc=function(){n("GC_BAD_CALL")}}}b=b||{};var l=G(a);if(mm.Class[l.klass])return mm.Class[l.klass];mm.Class[l.klass]=l.klass;mm[l.klass]=l.traits.has("Singleton")?d:e;if(l.base){a=function(){};a.prototype=mm[l.base].prototype;mm[l.klass].prototype=new a;H(mm[l.klass].prototype,b,true);mm[l.klass].prototype.constructor=mm[l.klass];mm[l.klass].prototype.__BASE__=H({},mm[l.base].prototype)}else{H(mm[l.klass].prototype,
b);mm[l.klass].prototype.__BASE__=null}mm[l.klass].prototype.callSuper=y;c&&H(mm[l.klass],c);if(l.traits.has("Singleton")&&!l.traits.has("SelfInit"))mm["i"+l.klass]=new mm[l.klass];return mm[l.klass]}function y(a){for(var b=this,c=Array.prototype.slice.call(arguments,1);b=b.__BASE__;)if(typeof b[a]==="function")return b[a].apply(this,c);c.unshift(a);return this.trap.apply(this,c)}function G(a){var b=["Singleton","SelfInit"];a=a.split(":");var c,d={klass:"",traits:[],base:"",ifs:[]};d.klass=a.shift();
if(!d.klass)throw new TypeError("CLASS_NAME_NOT_FOUND");for(;c=a.shift();)if(c in mm.Interface)d.ifs.push(c);else if(b.has(c))d.traits.push(c);else if(mm.Class[c]){if(d.base)throw new TypeError("CLASS_NAME_MULTIPLE_INHERITANCE: "+c);d.base=c}else throw new TypeError("TRAITS_OR_CLASS_NAME_NOT_FOUND: "+c);return d}function s(a,b){return a?H(a,b):b}function H(a,b,c){c=c||false;for(var d,e=Object.keys(b),g=0,l=e.length;g<l;++g){d=e[g];if(c||!(d in a))a[d]=b[d]}return a}function N(){function a(g,l){for(var o,
C=Object.keys(l),D=0,I=C.length;D<I;++D){o=C[D];if(e||!(o in g))Object.defineProperty(g,o,{configurable:true,enumerable:false,writable:true,value:l[o]})}}var b=arguments,c=0,d=b.length,e=false;if(b.length&1){d&=65534;e=!!b[d-1]}for(;c<d;c+=2)a(b[c],b[c+1])}function O(a,b){return typeof a.has==="function"?a.has(b):Da(a,b)}function m(a,b){return a&&typeof a.like==="function"?a.like(b):ta(a,b)}function B(a,b){return typeof a.map==="function"?a.map(b):La(a,b)}function x(a,b){typeof a.each==="function"?
a.each(b):Ea(a,b)}function t(a,b){return typeof a.some==="function"?a.some(b):Ma(a,b)}function w(a,b){return typeof a.every==="function"?a.every(b):Na(a,b)}function T(a,b){return typeof a.match==="function"?a.match(b):Oa(a,b)}function U(a){return typeof a.count==="function"?a.count():Fa(a)}function S(a,b){return typeof a.pick==="function"?a.pick(b):Pa(a,b)}function fa(a){return typeof a.keys==="function"?a.keys():Object.keys(a)}function W(a){return typeof a.values==="function"?a.values():Qa(a)}function ja(){}
function $(a){var b=bb;b[a]||(b[a]=0);if(++b[a]>=9007199254740991)b[a]=1;return b[a]}function X(a){switch(f(a)){case "attr":return aa(a);case "Hash":return a.valueOf();case "list":return Y(a);case "style":return ha(a);case "string":return Date.from(a)||a}return a}function aa(a){for(var b={},c=0,d;d=a[c++];)b[d.name]=d.value;return b}function Y(a,b,c){c=(c||0)|0;var d=[];b=(b||0)|0;if(c<=0)c=a.length+c;for(;b<c;++b)d.push(a[b]);return d}function ha(a){var b={},c,d,e=0,g=a.length;if(g)for(;e<g;++e){c=
a.item(e);if((d=a[c])&&typeof d==="string")b[c]=d}return b}function V(a,b,c){return ka(a,b||0,c||null,0)}function ka(a,b,c,d){if(!(b&&d>b)){var e,g,l=0,o;switch(f(a)){case "undefined":case "null":return""+a;case "boolean":case "string":case "number":return a.valueOf();case "regexp":return RegExp(a.source,(a+"").slice(a.source.length+2));case "Hash":return a.copy();case "date":return new Date(+a);case "array":e=[];for(o=a.length;l<o;++l)e[l]=ka(a[l],b,c,d+1);return e;case "object":e={};g=Object.keys(a);
for(o=g.length;l<o;++l)e[g[l]]=ka(a[g[l]],b,c,d+1);return e;case "function":return a}if(c)return c(a);throw new TypeError("UNKNOWN_TYPE: "+a);}}function j(a,b,c){b=b===void 0?4:b;c=c||5;return r(a,b,c,1)}function r(a,b,c,d){function e(I){if(!I.length)return"[]";for(var ba=[],oa=0,la=I.length;oa<la;++oa)ba.push(D+r(I[oa],b,c,d+1));return"["+o+ba.join(","+o)+o+" ".repeat(b*(d-1))+"]"}function g(I){function ba(xa){return xa.__CLASS__?"mm."+xa.__CLASS__+C:xa.nickname?xa.nickname("")+"()"+C:""}var oa=
[],la,ua=b===-1,pa=Object.keys(I).sort(),Ga=0,Ra=pa.length,cb=/^__[\w]+__$/;if(!Ra)return ba(I)+"{}";for(;Ga<Ra;++Ga){la=pa[Ga];cb.test(la)||oa.push(D+(ua?la+":":'"'+la+'":')+C+r(I[la],b,c,d+1))}return ba(I)+"{"+o+oa.join(","+o)+o+" ".repeat(b*(d-1))+"}"}function l(I){var ba=I.nodeName?I.nodeName.toLowerCase():"",oa=/^(?:html|head|body)$/;if(typeof I.path==="function")return"<@@@@>".at(ba,oa.test(ba)?"":" "+I.path());return ba?"<"+ba+">":I===document?"<document>":"<node>"}if(c&&d>c)return"...";var o=
b>0?"\n":"",C=b>0?" ":"",D=" ".repeat(b*d);switch(f(a)){case "null":case "global":case "number":case "boolean":case "undefined":return""+a;case "date":return a.toJSON();case "node":return l(a);case "attr":return g(aa(a));case "list":case "array":return e(a);case "style":return g(ha(a));case "regexp":return"/"+a.source+"/";case "Hash":return g(a.valueOf());case "object":case "function":return g(a);case "string":return'"'+k(a)+'"'}return""}function k(a){var b={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"};return a.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(c){return b[c]}).replace(/(?:[\x00-\x1f])/g,function(c){return"\\u00"+("0"+c.charCodeAt(0).toString(16)).slice(-2)})}function p(a,b){if(typeof a==="number"||typeof a==="string"){var c={};c[a]=b;return c}return a}function F(a){return function(){return a}}function v(a,b){return typeof a.clean==="function"?a.clean(b):Sa(a,b)}function L(a){for(var b=Object.keys(a),c=0,d=b.length;c<d;++c)delete a[b[c]];return a}function P(a){if(!Ha.init){for(var b=
Ha,c=0,d,e;c<256;++c){d=(c+256).toString(16).slice(1);e=String.fromCharCode(c);b[1][c]=d;b[2][d]=c;b[3][c]=e;b[4][e]=c}for(c=128;c<256;++c)b[4][String.fromCharCode(63232+c)]=c;b.init=true}return Ha[a]}function ga(){alert(j.apply(null,arguments))}function sa(a,b){ya(a,b,true)}function ya(a,b,c){c=c||false;var d=false,e="";if(b!=null){switch(typeof b){case "function":d=!(b(a)^c);break;case "boolean":d=!(b^c);break;case "string":d=!(b.split("/").some(function(C){if(a){if(C in mm.Interface){e="interface";
if(typeof _judgeInterface)return _judgeInterface(a,mm.Interface[C]);return true}if(C in mm.Class)return true}C=C;C=C.toLowerCase();C=a==null&&C===a+""?true:C==="class"?!!a.__CLASS__:C==="integer"?Number.isInteger(a):C==="primitive"?a==null||typeof a!=="object":C==="codedarray"?Array.isCodedArray(a):C===f(a);return C})^c);break;default:throw new TypeError("BAD_ARG");}if(d)try{var g=mm.strict?null:(arguments.callee||0).caller,l=g?g.nickname():"???";d=c?"mm.deny":"mm.allow";if(e==="interface")throw new TypeError("\n\n>>> "+
l+" in "+d+"("+j(a,0)+", "+b+")\n"+"\ninterface @@ @@\n".at(b,j(mm.Interface[b])));else throw new TypeError("\n\n>>> "+l+" in "+d+"("+j(a,0)+", "+b+")\n"+"\nhelp: @@\n\n".at(Ta(g)));}catch(o){n(mm.env.chrome?o.stack.replace(/at eval [\s\S]+$/m,""):o+"");throw new TypeError("ASSERTION");}}}function ra(){if(ra._keys)return ra._keys.xor(Object.keys(q));ra._keys=Object.keys(q);return[]}function f(a){var b,c;if(b=a===null?"null":a===void 0?"undefined":a===q?"global":a.nodeType?"node":a.__CLASS__?a.__CLASS__:
"")return b;c=typeof a;if(c!=="object")return c;c=Object.prototype.toString.call(a);if(c==="[object Object]")(b=a.constructor.name)||(c=a.constructor+"");b||(b=(/^\[object (\w+)\]$/.exec(c)||/^\s*function\s+(\w+)/.exec(c)||["",""])[1]);if(!b||b==="Object")if(a[mm.strict?"":"callee"]||typeof a.item==="function")return"list";if(b in Ia)return Ia[b];return b?b.toLowerCase():"object"}function i(a){Ea(a,function(b,c){Ia["[object "+c+"]"]=b})}function h(a,b){return a===void 0?1:b!==void 0?3:a&&typeof a===
"string"?2:4}function n(){ca.push({type:0,time:Date.now(),msg:[].slice.call(arguments).join(" ")});ca.length>n.limit&&Q()}function E(){ca.push({type:1,time:Date.now(),msg:[].slice.call(arguments).join(" ")});ca.length>n.limit&&Q()}function Z(){ca.push({type:2,time:Date.now(),msg:[].slice.call(arguments).join(" ")});ca.length>n.limit&&Q()}function ia(){return{data:ca.copy(),index:za}}function Q(a){function b(o){return(new Date(o.time)).format(o.type&4?"[D h:m:s ms]:":"[I]:")}var c=ca,d=za,e=c.length,
g=q.console,l=mm.env.webkit?"  ":"";if(a){if(a.indexOf("http")===0)if(q.Image)for(;d<e;++d)(new Image).src=a.at(c[d].msg)}else if(g)for(;d<e;++d)switch(c[d].type){case 0:g.log(l+b(c[d])+c[d].msg);break;case 1:g.warn(l+b(c[d])+c[d].msg);break;case 2:g.error(b(c[d])+c[d].msg);break;case 4:g.log(l+b(c[d])+c[d].msg);case 6:g.error(b(c[d])+c[d].msg)}za=d}function ma(){za=0;ca=[]}function na(a,b){function c(o,C){return"@@@@ @@( @@ )".at(l[0].repeat(g),l[o],a,C)}function d(){ca.push({type:b,time:Date.now(),
msg:c(2,[].slice.call(arguments).join(" "))})}a=a.nickname?a.nickname():a;b=b||0;var e=Date.now(),g=na.nest++,l=mm.env.lang==="ja"?["\u2502","\u250c","\u2502","\u2514"]:["|","+-","| ","`-"];ca.push({type:b,time:Date.now(),msg:c(1,"")});d.out=function(){ca.push({type:b,time:Date.now(),msg:c(3,(new Date).diff(e))});--na.nest;ca.length>n.limit&&Q()};d.error=function(){ca.push({type:b+2,time:Date.now(),msg:c(2,[].slice.call(arguments).join(" "))})};return d}function K(a){for(var b=[],c,d=(this.addr||
this._broadcast).concat(),e=0,g=d.length,l=Array.prototype.slice.call(arguments),o=this.deli||this._deliverable;e<g;++e)if((c=o[d[e].__CLASS_UID__])&&c.msgbox)b[e]=c.msgbox.apply(c,l);else{b[e]="NOT_DELIVERABLE";c&&n(a+" is not deliverable. "+c.__CLASS__)}return b}function da(a){var b=(this.addr||this._broadcast).concat(),c=Array.prototype.slice.call(arguments),d=this.deli||this._deliverable;(0).wait(function(){for(var e,g=0,l=b.length;g<l;++g)if((e=d[b[g].__CLASS_UID__])&&e.msgbox)e.msgbox.apply(e,
c);else e&&n(a+" is not deliverable. "+e.__CLASS__)});return this.that||this}function ea(a){if(a.typeDate)return a;var b=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:\.(\d*))?Z$/.exec(a);if(b)return new Date(Date.UTC(+b[1],+b[2]-1,+b[3],+b[4],+b[5],+b[6],b[7]?+b[7]:0));a=new Date(a);return isNaN(+a)?null:a}function qa(a){a=Math.abs(+this-+a);var b=new Date(a);return{days:a/864E5|0,times:b.times(),toString:function(c){return b.format(c||"m:s.ms")}}}function va(){return{y:this.getUTCFullYear(),m:this.getUTCMonth()+
1,d:this.getUTCDate()}}function Aa(){return{h:this.getUTCHours(),m:this.getUTCMinutes(),s:this.getUTCSeconds(),ms:this.getUTCMilliseconds()}}function Ba(a){var b=[];a=(a||"I").split("");var c,d=0,e=a.length;c=this.toJSON();var g=c.split(/[^\d]/);for(g={I:c,d:+this/864E5|0,Y:g[0],M:g[1],D:g[2],h:g[3],m:g[4],s:g[5],ms:g[6]};d<e;++d){c=a[d];if(c==="m"&&a[d+1]==="s"){c="ms";++d}b.push(g[c]||c)}return b.join("")}function db(a,b,c){return a.to(b,c)}function eb(a){return Array.isArray(a)?[a]:a}function fb(a){return Array.isArray(a)&&
!!a.code}function gb(a){for(var b,c,d=0,e=this.length;d<e;d+=2)if(d in this){b=this[d];c=this[d+1];if(typeof c==="function")if(b=c(b,d,a))return b}}function hb(a,b){for(var c=0,d=this.length;c<d;++c)if(c in this&&a.call(b,this[c],c,this))return this[c]}function ib(a){var b=this,c=0;return a.replace(/@@/g,function(){return b[c++]})}function jb(a){if(Array.isArray(a)){for(var b=0,c=a.length;b<c;++b)if(this.indexOf(a[b])<0)return false;return true}return this.indexOf(a)>=0}function kb(a){return a?V(this):
this.concat()}function lb(){return this.sieve().values}function mb(a){a=a||"";for(var b=[],c,d=0,e=this.length;d<e;++d){c=this[d];if(c===c&&c!=null)if(!a||typeof c===a)b.push(c)}return b}function nb(a,b){switch((this.code||"byte").toLowerCase()){case "":throw new TypeError("BAD_ARG");case "byte":case "utf16":return Ua(this,a,b);case "utf8":var c=[],d=0,e=a||0,g=b||this.length;if(g>this.length)g=this.length;for(;e<g;++e){d=this[e];if(d<128)c.push(d);else if(d<224)c.push((d&31)<<6|this[++e]&63);else if(d<
240)c.push((d&15)<<12|(this[++e]&63)<<6|this[++e]&63);else d<248&&c.push((d&7)<<18|(this[++e]&63)<<12|(this[++e]&63)<<6|this[++e]&63)}return Ua(c)}return""}function Ua(a,b,c){var d=[],e=0,g=a.length;if(b!==void 0||c!==void 0){a=a.slice(b||0,Math.max(c||g,g));g=a.length}for(;e<g;e+=10240)d.push(String.fromCharCode.apply(null,a.slice(e,e+10240)));return d.join("")}function ob(){return Fa(this)}function pb(){for(var a=this.clean(),b=[],c=[],d=0,e=a.length;d<e;++d)b.indexOf(a[d])>=0?c.push(a[d]):b.push(a[d]);
return{values:b,dups:c}}function qb(){var a=this.concat();this.length=0;return a}function rb(a,b,c){for(var d=0,e=b==null;d=this.indexOf(a,d)+1;){e?this.splice(d-1,1):this.splice(d-1,1,b);if(!c)break;--d}return this}function sb(){var a=this.clean(),b=a.length,c,d;if(b)for(;--b;){c=Math.random()*(b+1)|0;if(b!==c){d=a[b];a[b]=a[c];a[c]=d}}return a}function tb(){for(var a=0,b=this.clean("number"),c=0,d=b.length;c<d;++c)a+=b[c];return a}function ub(){var a,b,c,d;a=[];c=0;for(d=this.length;c<d;++c){b=
this[c];a[c]=typeof b==="number"?b<0?"-0x"+b.hh(4).slice(1):"0x"+b.hh(4):"NaN"}return"[ "+a.join(", ")+" ]"}function vb(a,b){return this.clean("number").map(function(c){return c.clamp(a,b)})}function wb(a){function b(d,e){return d-e}function c(d,e){return e-d}return this.clean("number").sort(a?c:b)}function xb(a){var b=this.clean("number"),c=b.length;if(!a)return b.sum()/c;b.nsort();return c%2?b[(c-1)/2]:(b[c/2-1]+b[c/2])/2}function yb(a){return this.concat(a).unique()}function zb(a){for(var b=[],
c=0,d=this.length;c<d;++c)c in this&&a.indexOf(this[c])>=0&&b.push(this[c]);return b}function Ab(a){for(var b=[],c,d=0,e=this.length;d<e;++d)if(d in this){c=a.indexOf(this[d]);c>=0?a.splice(c,1):b.push(this[d])}return b.concat(a)}function Bb(a,b,c){var d=this.concat();b=b||0;c=c||d.length;switch(f(a)){case "date":for(;b<c;++b)d[b]=new Date(a);break;case "array":for(;b<c;++b)d[b]=a.concat();break;case "object":for(;b<c;++b)d[b]=V(a);break;default:for(;b<c;++b)d[b]=a}return d}function Cb(){this.length=
0;return this}function Db(){return this[Math.random()*this.length|0]}function Eb(a){for(var b=[],c=this.clean(),d=0,e=c.length;d<e;++d)a(c[d],d)||b.push(c[d]);return b}function Fb(a){for(var b=[],c=this.clean(),d=0,e=c.length;d<e;++d)a(c[d],d)&&b.push(c[d]);return b}function Gb(){function a(c){for(var d=0,e=c.length,g;d<e;++d)if(d in c){g=c[d];Array.isArray(g)?a(g):b.push(g)}}var b=[];a(this);return b}function Hb(a){a=RegExp.esc(a);return this.trim().replace(RegExp("^"+a+"+"),"").replace(RegExp(a+
"+$"),"")}function Ib(){return this.trim().replace(/<\/?[^>]+>/g,"")}function Jb(){var a=this.trim(),b=/^["']/.exec(a);if(b)if(b=RegExp(b[0]+"$").exec(a))return a.trims(b[0]);return a}function Kb(a,b){b=b||0;var c=this.slice(0,b),d=this.slice(b);return c+a+d}function Lb(a,b){if(a){b=this.indexOf(a,b||0);if(b>=0)return this.slice(0,b)+this.slice(b+a.length)}return this+""}function Mb(a,b){return z.unpack(this+"",a,b)}function Nb(){var a=0,b=arguments;return this.replace(/@@/g,function(){return b[a++]})}
function Ob(a){if(a){a=a<0?this.length+a:a;if(a in this)return this.slice(0,a)+this[a].toUpperCase()+this.slice(a+1)}return this.toUpperCase()}function Va(a){if(a){a=a<0?this.length+a:a;if(a in this)return this.slice(0,a)+this[a].toLowerCase()+this.slice(a+1)}return this.toLowerCase()}function Pb(a,b){if(b){if(this.length<a.length)return false;var c,d=this.count(),e=a.count();for(c in e)if(!d[c]||d[c]<e[c])return false;return true}return this.indexOf(a)>=0}function Qb(a){if(a)return RegExp.URL.test("http://a.a/"+
this.replace(/^\/+/,""));return/^(https?|wss?):/.test(this)?RegExp.URL.test(this):RegExp.FILE.test(this)}function Rb(a){for(var b={},c,d=this.split(""),e=0,g=d.length;e<g;++e){c=d[e];b[c]?++b[c]:b[c]=1}return a?b[a]||0:b}function Sb(a){return this.trim().split(a||",").map(parseFloat).clean("number")}function Tb(){var a=0,b=0,c=arguments;return this.replace(/%(?:(\d+)\$)?(#|0| )?(\d+)?(?:\.(\d+))?(l)?([%iduoxXfcs])/g,function(d,e,g,l,o,C,D){if(D==="%")return D;b=e?parseInt(e):a++;d={i:17,d:17,u:33,
o:353,x:609,X:4705,f:146,c:26624,s:132}[D];var I;e=c[b]===void 0?"":c[b];d&1&&(e=parseInt(e));d&2&&(e=parseFloat(e));d&3&&(e=e===e?e:"");d&4&&(e=((D==="s"?e:D)||"").toString());d&32&&(e=e>=0?e:e%4294967296+4294967296);d&768&&(e=e.toString(d&256?8:16));d&64&&g==="#"&&(e=(d&256?"0":"0x")+e);d&128&&o&&(e=d&2?e.toFixed(o):e.slice(0,o));d&24576&&(I=typeof e!=="number"||e<0);d&8192&&(e=I?"":String.fromCharCode(e));e=d&4096?e.toString().toUpperCase():e.toString();if(!(d&2048||l===void 0||e.length>=l)){l=
(!g||g==="#"?" ":g).repeat(l-e.length);e=d&16&&g==="0"&&!e.indexOf("-")?"-"+l+e.slice(1):l+e}return e})}function Ub(){return this.split("").unique().join("")}function Vb(a){var b=[];b.code=(a||"byte").toLowerCase();switch(b.code){case "byte":return Wa(b,this,255);case "utf8":a=0;for(var c=this.length,d=0,e,g;a<c;++a){d=this.charCodeAt(a);if(d<128)b.push(d);else if(d<2048)b.push(d>>>6&31|192,d&63|128);else if(d>=55296&&d<=57344){e=this.charCodeAt(a+1);if(e>=56320&&e<=57343){g=(d>>>6&15)+1;b.push(g>>>
2&7|240,g<<4&48|128|d>>>2&15,d<<4&48|128|e>>>6&15,e&63|128)}else throw new URIError("BAD_ARG");}else if(d<65536)b.push(d>>>12&15|224,d>>>6&63|128,d&63|128);else d<1114112&&b.push(d>>>18&7|240,d>>>12&63|128,d>>>6&63|128,d&63|128)}break;case "utf16":return Wa(b,this,2097151)}return b}function Wa(a,b,c){for(var d=0,e=b.length;d<e;++d)a[d]=b.charCodeAt(d)&c;return a}function Wb(a,b){b=b||"...";var c=b.length;if(this.length>a){if(a-c<1)return b.slice(0,a);return this.slice(0,a-c)+b}return""+this}function Xb(a,
b){var c=[],d=this|0,e=d>a,g=(e?a:d)|0;d=(e?d:a)|0;var l=typeof b,o=1;if(l==="function")for(;g<=d;++g)b(g)&&c.push(g);else{if(l==="number")o=b|0;if(o<1||a>=2147483647)throw Error("BAD_ARG");for(;g<=d;g+=o)c.push(g)}return e?c.reverse():c}function Yb(a,b){a=a||2;b=b||10;var c=Math.abs(+this)>>>0;if(a===2&&b===10&&c<100)return c<10?"0"+c:""+c;return("00000000000000000000000000000000"+c.toString(b)).slice(-a)}function Zb(a){return(this^a)>>>0}function $b(a){var b=a[0]||null,c=a[1]||a,d=Array.prototype.slice.call(arguments,
1);return setTimeout(function(){c.apply(b,d)},this*1E3)}function ac(a){var b=[],c=a[0]||null,d=a[1]||a,e=Array.prototype.slice.call(arguments,1),g=0,l=+this|0;e=e?e.concat():[];var o=e.length;if(l>0)for(;g<l;++g){e[o]=g;b.push(d.apply(c,e))}return b}function bc(a,b){var c=+this,d;if(a>b){d=[b,a];a=d[0];b=d[1]}return c<a?a:c>b?b:c}function cc(){return this*Math.PI/180}function dc(){return this*180/Math.PI}function ec(){return String.fromCharCode(this)}function fc(){var a=+this;return a?Math.random()*
a|0:Math.random()}function Xa(a){a=a||this;var b=Ta(a);return b+"\n\n"+a+"\n\n"+b}function Ca(a,b){if(Array.isArray(b))b=RegExp("^("+b.join("|")+")(?:([#\\.])([\\w\\,]+))?$");Ca._db.push(b,function(c,d,e){c=c.exec(e);if(!c)return false;return!c[2]?"@@@@".at(a,c[1]):c[2]==="."?"@@@@#@@.@@".at(a,c[1],c[1],c[3]):"@@@@#@@.prototype.@@".at(a,c[1],c[1],c[3])})}function Ta(a){var b;if(a=/@help:\s*([^\n]*)\n/.exec("\n"+a))b=Ca._db.chain(a[1].trim());return b||""}function gc(a){for(var b=[],c=arguments,d=
1,e=c.length;d<e;++d)f(c[d])==="list"?Array.prototype.push.apply(b,Y(c[d])):b.push(c[d]);return this.apply(a,b)}function hc(a){var b=this.name||(this+"").split("(")[0].trim().slice(9);return b?b.replace(/^mm_/,"mm."):a}function ic(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function jc(a){var b=(this+"").slice(this.source.length+2);if(a)if(a[0]==="-")a.slice(1).split("").each(function(c){b=b.remove(c)});else b=(b+a.trims("+")).unique();else b="";return RegExp(this.source,b)}function kc(a,
b){return new J(this,a,b)}function Ya(a){if(a.state===100)a.state=a.miss>a.missables?400:a.pass+a.miss>=a.waits?200:a.state;a.tick&&a.tick({ok:a.state===200,args:a.args,state:a.state});if(a.state>100)if(a.fn){a.fn({ok:a.state===200,args:a.args,state:a.state});a.fn=a.tick=null;a.args=[]}}function Ja(a,b){if(this.length){var c=Ka(this.clean()),d,e;d=Za(c.array.join(" > "));e=d.shift();c=mm.mix(c.object,{arg:b,pass:0,miss:0,logg:na(a||"")});e&&$a(d,e,c)}}function $a(a,b,c){var d=0,e=b.length;b.each(function(g){function l(la,
ua){var pa=la===false;pa?c.logg.error(g+":",la,ua):c.logg(g+":",la,ua);pa?++c.miss:++c.pass;if(typeof Ja.tick==="function"){pa={ok:!pa,msg:ua||"",name:g||"",pass:c.pass,miss:c.miss};if(Ja.tick(pa)===false)return}if(++d>=e)(pa=a.shift())?$a(a,pa,c):c.logg.out()}var o,C,D,I,ba;switch(mm.type(c[g])){case "array":try{o=c[g][0];C=c[g][1];I=c[g][2]||mm.like;D=I(o,C);ba="= @@( @@ )".at(I.nickname(),j(o,0)+", "+j(C,0))}catch(oa){ba=oa+""}l(D,ba);break;case "boolean":l(c[g]);break;case "function":D=c[g](l);
if(D===false||D===true){l(D);break}else if(D===void 0&&!c[g].length)throw new TypeError("ARGUMENT_IS_MISSING: "+g);break;default:throw new TypeError("BAD_TYPE: "+g);}})}function Ka(a){for(var b={object:{},array:[]},c=0,d=a.length,e;c<d;++c){e=typeof a[c]==="function"?a[c].nickname(""+c):""+c;b.object[e]=a[c];b.array.push(e)}return b}function Za(a){var b=[],c=[];a.match(/([\w\-\u00C0-\uFFEE]+|[/+>])/g).each(function(d){d==="+"||(d===">"?c.length&&b.push(c.shifts()):c.push(d))});c.length&&b.push(c.concat());
return b}function lc(){return Ka(this).array.join(" > ").stream(this)}function wa(a){var b=Za(this),c=mm.uid("stream");a=Array.isArray(a)?Ka(a).object:a;wa._halt[c]=0;b.length&&ab(b,a,c);return{uid:c,halt:function(){wa._halt[c]=1;a.halted=true;a.halt&&a.halt("halt")}}}function ab(a,b,c){if(!wa._halt[c]){var d=a.shift();d&&mc(a,d,b,c)}}function mc(a,b,c,d){var e=0,g=b.length,l=0;b.each(function(o){function C(I){if(!l)if(I===false){c.halted=!!++l;c.halt&&c.halt(o)}else++e>=g&&ab(a,c,d)}if(isFinite(o))setTimeout(function(){C(true)},
+o);else{var D=c[o](C);if(D===false||D===true)C(D);else if(D===void 0&&c[o].length<1)throw Error("NEED_RETURN: "+o);}})}function Da(a,b){for(var c,d=Object.keys(b),e=0,g=d.length;e<g;++e){c=d[e];if(!(c in a)||!ta(a[c],b[c]))return false}return true}function ta(a,b){var c=f(a),d=f(b),e={string:1,date:1,list:2,array:2,object:3,Hash:3};if(c!==d){if(e[c]&&e[c]===e[d]){if(d==="string"||d==="list"||d==="Hash")return ta(a,X(b));return ta(X(a),b)}return false}switch(c){case "list":return Y(a)+""===Y(b)+"";
case "array":return a+""===b+"";case "regexp":return a.source===b.source;case "object":return Object.keys(a).length===Object.keys(b).length&&Da(a,b);case "number":return isNaN(a)&&isNaN(b)?true:a===b}return a&&a.toJSON?a.toJSON()===b.toJSON():a===b}function La(a,b){for(var c=[],d,e=Object.keys(a),g=0,l=e.length;g<l;++g){d=e[g];c.push(b(a[d],d))}return c}function Ea(a,b){for(var c,d=Object.keys(a),e=0,g=d.length;e<g;++e){c=d[e];b(a[c],c)}}function Ma(a,b){for(var c,d=Object.keys(a),e=0,g=d.length;e<
g;++e){c=d[e];if(b(a[c],c))return true}return false}function Na(a,b){for(var c,d=Object.keys(a),e=0,g=d.length;e<g;++e){c=d[e];if(!b(a[c],c))return false}return true}function Oa(a,b){for(var c,d=Object.keys(a),e=0,g=d.length;e<g;++e){c=d[e];if(b(a[c],c))return a[c]}}function Sa(a,b){b=b||"";for(var c={},d,e,g=Object.keys(a),l=0,o=g.length;l<o;++l){d=g[l];e=a[d];if(e===e&&e!=null)if(!b||typeof e===b)c[d]=e}return c}function Fa(a){for(var b={},c,d=Object.keys(a),e=0,g=d.length;e<g;++e){c=a[d[e]]+"";
b[c]?++b[c]:b[c]=1}return b}function Pa(a,b){for(var c=[],d,e=Object.keys(a),g=0,l=e.length,o,C=Array.toArray(b),D,I=C.length;g<l;++g){o=a[e[g]];for(D=0;D<I;++D){d=C[D];o.hasOwnProperty(d)&&c.push(o[d])}}return c}function Qa(a){for(var b=[],c=Object.keys(a),d=0,e=c.length;d<e;++d)b.push(a[c[d]]);return b}function nc(a){return new z(Sa(this._,a))}function oc(a,b){a=a||":";b=b||";";for(var c=[],d,e=Object.keys(this._),g=0,l=e.length;g<l;++g){d=e[g];c.push(d+a+this._[d])}return c.join(b)}z.unpack=function(a,
b,c){b=b||":";c=c||";";for(var d={},e,g=a.trims(c).split(c),l=0,o=g.length,C={"":"",NaN:NaN,"null":null,"true":true,"false":false,undefined:void 0};l<o;++l){a=g[l].indexOf(b);c=a>=0?g[l].slice(0,a):g[l];e="";if(a>=0){e=g[l].slice(a+1).trim();e=e in C?C[e]:isFinite(e)?parseFloat(e):e}d[c.trim()]=e}return new z(d)};M.prototype={__CLASS__:"Msg",bind:function(){Array.prototype.slice.call(arguments).forEach(function(a){if(a&&a.__CLASS_UID__&&typeof a.msgbox==="function")this._deliverable[a.__CLASS_UID__]=
a;else throw Error("NOT_DELIVERABLE");},this);this._broadcast=W(this._deliverable);return this},unbind:function(){(arguments.length?Array.prototype.slice.call(arguments):this._broadcast).each(function(a){a.__CLASS_UID__&&delete this._deliverable[a.__CLASS_UID__]},this);this._broadcast=W(this._deliverable);return this},list:function(a){return a?S(this._deliverable,"__CLASS__"):V(this._deliverable)},to:function(){var a={},b;for(b in this._deliverable)a[b]=this._deliverable[b];return{that:this,addr:arguments.length?
Array.prototype.slice.call(arguments):this._broadcast.concat(),deli:a,post:da,send:K}},post:da,send:K};J.prototype={missable:function(a){this._db.missables=a;return this},pass:function(a){++this._db.pass;this._db.args.push(a);Ya(this._db);return this},miss:function(a){++this._db.miss;this._db.args.push(a);Ya(this._db);return this},state:function(){return this._db.state}};var bb={},ca=[],za=0,Ha={0:{},1:{},2:{},3:{},4:{},init:false},Ia={NodeList:"list",Arguments:"list",NamedNodeMap:"attr",HTMLCollection:"list",
CSSStyleDeclaration:"style"};Ca._db=[];wa._halt={};if(typeof module!=="undefined")module.exports={mm:R};(function(a,b){b(Function.prototype,{__CLASS__:"function",typeFunction:true},Boolean.prototype,{__CLASS__:"boolean",typeBoolean:true},String.prototype,{__CLASS__:"string",typeString:true},Number.prototype,{__CLASS__:"number",typeNumber:true},RegExp.prototype,{__CLASS__:"regexp",typeRegExp:true},Array.prototype,{__CLASS__:"array",typeArray:true},Date.prototype,{__CLASS__:"date",typeDate:true});b(Date,
{from:ea});b(Date.prototype,{diff:qa,dates:va,times:Aa,format:Ba});b(Array,{range:db,toArray:eb,isCodedArray:fb});b(Array.prototype,{has:jb,chain:gb,match:hb,at:ib,sieve:pb,unique:lb,reject:Eb,select:Fb,flatten:Gb,each:Array.prototype.forEach,copy:kb,clean:mb,decode:nb,or:yb,and:zb,xor:Ab,sum:tb,clamp:vb,nsort:wb,average:xb,count:ob,fill:Bb,clear:Cb,remove:function(c,d){return this.replace(c,null,d)},shifts:qb,replace:rb,dump:ub,choice:Db,stream:lc,shuffle:sb,test:a(Ja,{tick:null})});b(String.prototype,
{has:Pb,isURL:Qb,at:Nb,up:Ob,low:Va,down:Va,trims:Hb,trimTag:Ib,trimQuote:Jb,format:Tb,overflow:Wb,unique:Ub,code:Vb,unpack:Mb,numbers:Sb,count:Rb,insert:Kb,remove:Lb,stream:wa});b(Number.prototype,{pad:Yb,to:Xb,xor:Zb,rand:fc,clamp:bc,toRadians:cc,toDegrees:dc,chr:ec,wait:$b,times:ac});b(Function.prototype,{help:a(Xa,{add:Ca}),callby:gc,nickname:hc,await:kc});b(RegExp,{esc:ic,FILE:/^(file:)\/{2,3}(?:loc\w+)?([^ ?#]*)(?:(\?[^#]*))?(?:(#.*))?$/i,URL:/^(\w+:)\/\/((?:([\w:]+)@)?([^\/:]+)(?::(\d*))?)([^ :?#]*)(?:(\?[^#]*))?(?:(#.*))?$/,
PATH:/^([^ ?#]*)(?:(\?[^#]*))?(?:(#.*))?$/});b(RegExp.prototype,{flag:jc})})(H,N);(function(a){a=mm=a(R,{Interface:u,Class:A,Hash:z,Await:J,arg:s,mix:H,wiz:N,has:O,like:m,some:t,every:w,match:T,map:B,each:x,uid:$,copy:V,cast:a(X,{attr:aa,list:Y,style:ha}),pair:p,wrap:F,clean:v,count:U,pick:S,keys:fa,values:W,clear:L,nop:ja,dump:j,codec:a(P,{INTEGER_TO_HEXSTRING:1,HEXSTRING_TO_INTEGER:2,INTEGER_TO_BYTESTRING:3,BYTESTRING_TO_INTEGER:4}),strict:F(!this)(),say:ga,deny:sa,allow:ya,pollution:ra,type:a(f,
{alias:i}),complex:h,Msg:M,imsg:{},log:a(n,{copy:ia,dump:Q,warn:E,error:Z,clear:ma,limit:0}),logg:a(na,{nest:0})});var b={lang:"en",node:q.require&&q.process,ie:!!document.uniqueID,ie8:false,ie9:false,ie10:false,ios:false,ipad:false,gecko:!!q.netscape,opera:!!q.opera,chrome:false,webkit:false,safari:false,retina:false,secure:false,android:false};if(!(!q.location||!q.navigator||q.window!==q)){var c=q.navigator,d=c.userAgent;b.lang=(c.language||c.browserLanguage||"").split("-",1)[0];b.retina=(q.devicePixelRatio||
1)>=2;b.secure=q.location.protocol==="https:";b.ios=/iPhone|iPad|iPod/.test(d);b.ipad=/iPad/.test(d);b.chrome=/Chrome/.test(d);b.webkit=/WebKit/.test(d);b.safari=b.webkit&&!b.chrome;b.android=/Android/i.test(d)}a.env=b})(H);(function(a){a(z.prototype,{__CLASS__:"Hash",mix:function(b,c){H(this._,b.valueOf(),c);return this},has:function(b){return Da(this._,b.valueOf())},like:function(b){return ta(this._,b.valueOf())},some:function(b){return Ma(this._,b)},every:function(b){return Na(this._,b)},match:function(b){return Oa(this._,
b)},map:function(b){return La(this._,b)},each:function(b){Ea(this._,b)},copy:function(){return new z(V(this._))},cast:function(){return this._},pack:oc,clean:nc,count:function(){return Fa(this._)},pick:function(b){return Pa(this._,b)},keys:function(){return Object.keys(this._)},values:function(){return Qa(this._)},clear:function(){this._={};return this},help:function(){return Xa(z)},dump:function(){return j.callby(null,this._,arguments)},toJSON:function(){return q.JSON.stringify.callby(null,this._,
arguments)},valueOf:function(){return this._},toString:function(){return j(this._,-1,100)}},true)})(N);mm.help.add("http://code.google.com/p/mofmof-js/wiki/","Object,Array,String,Boolean,Number,Date,Function,mm,Class,Hash,Await,Msg".split(","))}(this.self||global);
(function(q){function z(u){u=u||"";if(!u&&q.location)return q.location.href;if(u&&/^(https?|file|wss?):/.test(u))return u;var A=q.document.createElement("a");A.setAttribute("href",u);return A.cloneNode(false).href}function M(u){return[u.protocol,u.protocol?u.protocol==="file:"?"///":"//":"",u.host||"",u.pathname||"/",u.search||"",u.fragment||""].join("")}function J(u){function A(s){var H=s.pathname.split("/");s.href=s.href||"";s.protocol=s.protocol||"";s.scheme=s.protocol;s.secure=s.secure||false;
s.host=s.host||"";s.auth=s.auth||"";s.hostname=s.hostname||"";s.port=s.port||0;s.pathname=s.pathname||"";s.file=H.pop();s.dir=H.join("/")+"/";s.search=s.search||"";s.query=R(s.search);s.fragment=s.fragment||"";s.ok=s.ok||true;return s}var y,G={"http:":80,https:443,"ws:":81,"wss:":816};if(y=RegExp.FILE.exec(u))return A({href:u,protocol:y[1],pathname:y[2],search:y[3],fragment:y[4]});if(y=RegExp.URL.exec(u))return A({href:u,protocol:y[1],secure:y[1]==="https:"||y[1]==="wss:",host:y[2],auth:y[3],hostname:y[4],
port:y[5]?+y[5]:G[y[1]]||0,pathname:y[6],search:y[7],fragment:y[8]});if(y=RegExp.PATH.exec(u))return A({href:u,pathname:y[1],search:y[2],fragment:y[3]});return A({href:u,pathname:u,ok:false})}function R(u){var A={};if(u.indexOf("?")>=0)u=u.split("?")[1].split("#")[0];u.replace(/&amp;|&|;/g,";").replace(/(?:([^\=]+)\=([^\;]+);?)/g,function(y,G,s){y=q.encodeURIComponent(G);s=q.encodeURIComponent(s);if(A[y])if(Array.isArray(A[y]))A[y].push(s);else A[y]=[A[y],s];else A[y]=s;return""});return A}mm.url=
(0,mm.mix)(function(u){return!u?z():typeof u==="string"?J(u):M(u)},{resolve:z,normalize:function(u){for(var A=[],y=/^\.+$/,G=J(u),s=G.dir.split("/"),H=0,N=s.length;H<N;++H){u=s[H];if(u==="..")A.pop();else y.test(u)||A.push(u)}u=("/"+A.join("/")+"/").replace(/\/+/g,"/");G.pathname=u+G.file;return M(G)},buildQuery:function(u,A){A=A||"&";var y=[],G,s,H,N,O;for(G in u){N=q.encodeURIComponent(G);O=u[G];if(Array.isArray(O)){s=0;for(H=O.length;s<H;++s)y.push(N+"="+q.encodeURIComponent(O[s]))}else y.push(N+
"="+q.encodeURIComponent(O))}return y.join(A)},parseQuery:R})})(this);
(function(){(function(){Math.easing={linear:"(c*t/d+b)",inquad:"(q1=t/d,c*q1*q1+b)",outquad:"(q1=t/d,-c*q1*(q1-2)+b)",inoutquad:"(q1=t/(d*0.5),q1<1?c*0.5*q1*q1+b:-c*0.5*((--q1)*(q1-2)-1)+b)",incubic:"(q1=t/d,c*q1*q1*q1+b)",outcubic:"(q1=t/d-1,c*(q1*q1*q1+1)+b)",inoutcubic:"(q1=t/(d*0.5),q1<1?c*0.5*q1*q1*q1+b:c*0.5*((q1-=2)*q1*q1+2)+b)",outincubic:"(q1=t*2,q2=c*0.5,t<d*0.5?(q3=q1/d-1,q2*(q3*q3*q3+1)+b):(q3=(q1-d)/d,q2*q3*q3*q3+b+q2))",inquart:"(q1=t/d,c*q1*q1*q1*q1+b)",outquart:"(q1=t/d-1,-c*(q1*q1*q1*q1-1)+b)",
inoutquart:"(q1=t/(d*0.5),q1<1?c*0.5*q1*q1*q1*q1+b:-c*0.5*((q1-=2)*q1*q1*q1-2)+b)",outinquart:"(q1=t*2,q2=c*0.5,t<d*0.5?(q3=q1/d-1,-q2*(q3*q3*q3*q3-1)+b):(q4=q1-d,q3=q4/d,q2*q3*q3*q3*q3+b+q2))",inback:"(q1=t/d,q2=1.70158,c*q1*q1*((q2+1)*q1-q2)+b)",outback:"(q1=t/d-1,q2=1.70158,c*(q1*q1*((q2+1)*q1+q2)+1)+b)",inoutback:"(q1=t/(d*0.5),q2=1.525,q3=1.70158,q1<1?(c*0.5*(q1*q1*(((q3*=q2)+1)*q1-q3))+b):(c*0.5*((q1-=2)*q1*(((q3*=q2)+1)*q1+q3)+2)+b))",outinback:"(q1=t*2,q2=c*0.5,t<d*0.5?(q3=q1/d-1,q4=1.70158,q2*(q3*q3*((q4+1)*q3+q4)+1)+b):(q3=(q1-d)/d,q4=1.70158,q2*q3*q3*((q4+1)*q3-q4)+b+q2))",
inbounce:"(q1=(d-t)/d,q2=7.5625,q3=2.75,c-(q1<(1/q3)?(c*(q2*q1*q1)+0):(q1<(2/q3))?(c*(q2*(q1-=(1.5/q3))*q1+.75)+0):q1<(2.5/q3)?(c*(q2*(q1-=(2.25/q3))*q1+.9375)+0):(c*(q2*(q1-=(2.625/q3))*q1+.984375)+0))+b)",outbounce:"(q1=t/d,q2=7.5625,q3=2.75,q1<(1/q3)?(c*(q2*q1*q1)+b):(q1<(2/q3))?(c*(q2*(q1-=(1.5/q3))*q1+.75)+b):q1<(2.5/q3)?(c*(q2*(q1-=(2.25/q3))*q1+.9375)+b):(c*(q2*(q1-=(2.625/q3))*q1+.984375)+b))"};mm.each(Math.easing,function(q,z){Math[z]=new Function("t,b,c,d, q1,q2,q3,q4","return "+q)})})()})();
(function(q){function z(A,y,G,s){return{time:A||200,delay:y||0,easing:G||Math.inoutcubic,freeze:s||false}}var M=q.requestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame||q.mozRequestAnimationFrame||q.webkitRequestAnimationFrame,J=q.setImmediate||q.oSetImmediate||q.msSetImmediate||q.mozSetImmediate||q.webkitSetImmediate,R=[],u=[];mm.fx=(0,mm.mix)(function(A,y,G){var s=mm.uid("mm_fx");(function(H){var N=[],O,m,B=mm.arg(G,{time:200,delay:0,easing:Math.inoutcubic,freeze:false});for(O in H){m=
H[O];if(m.a!==void 0&&m.b!==void 0)N.push({key:O,a:Array.isArray(m.a)?m.a:[m.a],b:Array.isArray(m.b)?m.b:[m.b],c:Array.isArray(m.a)?m.a:[m.a],time:m.time||B.time,delay:m.delay||B.delay,easing:m.easing||B.easing,freeze:m.freeze||B.freeze,isArray:Array.isArray(m.a),state:0,past:0})}return N})(A);R.push(s);y(0,A,{},0);return s},{spec:function(A,y,G,s,H,N){G=z(G,s,H,N);G.a=A;G.b=y;return G},defs:z,kill:function(A){u.indexOf(A)<0&&u.push(A)},tick:function(A){return M?{type:1,tid:M(A)}:J?{type:2,tid:J(A)}:
{type:0,tid:setTimeout(A,4)}}})})(this.self||global);var uu;
uu||function(q,z){function M(f){var i,h,n,E;i=(h=Array.isArray(f))?f[0]:f;h=(h?f[1]:null)||z;i=f.nodeType?[f]:typeof i==="string"?h.find(i):f;if(arguments.length>=2){E=Array.prototype.slice.call(arguments,1);h=0;for(n=i.length;h<n;++h)R.call({clone:!!h},i[h],E)}return i}function J(f){return Array.isArray(f)?f[1].find(f[0]):z.find(f)}function R(f,i){if(!i||!i.length)return f;i=mm.cast.list(i);for(var h,n,E,Z=0,ia=0,Q=i.length,ma=/@@/g;ia<Q;++ia){h=i[ia];if(h.nodeType)this.clone?f.appendChild(h.cloneNode(true)):
f.appendChild(h);else{if(n=typeof h==="string"){if(h.indexOf("@@")>=0){E=h.match(ma).length;h=i.slice(ia+1,ia+E+1).at(i[ia]);ia+=E}if(h.indexOf("::")===0){f.appendChild(z.createTextNode(h.slice(2)));continue}}switch(++Z){case 1:h&&H(f,n?h.unpack():h);break;case 2:h&&O(f,n?h.unpack():h);break;default:throw Error(h);}}}return f}function u(f){var i=f["data-uuuid"];i||(f["data-uuuid"]=i=mm.uid("uu_uid"));return i}function A(f,i,h){typeof f==="string"&&(f=z.querySelector(f));f=!f||f===z?z.documentElement:
f;i=i===void 0?4:i;h=h||5;return'"<'+f.nodeName.toLowerCase()+'>":'+(i?" ":"")+y(f,i,h,1)}function y(f,i,h,n){function E(K){if(!K.length)return"[]";for(var da=[],ea=0,qa=K.length;ea<qa;++ea)da.push(na+y(K[ea],i,h,n+1));return"["+Q+da.join(","+Q)+Q+" ".repeat(i*(n-1))+"]"}function Z(K){var da=[],ea,qa=Object.keys(K).sort(),va=0,Aa=qa.length,Ba=K.__CLASS__?"mm."+K.__CLASS__+ma:K.nickname?K.nickname("anonymous")+ma:"";if(!Aa)return Ba+"{}";for(;va<Aa;++va){ea=qa[va];da.push(na+'"'+ea+'":'+ma+y(K[ea],
i,h,n+1))}return Ba+"{"+Q+da.join(","+Q)+Q+" ".repeat(i*(n-1))+"}"}function ia(K){var da=[],ea=s(K),qa;/html|head|body|title|meta|script|link|style/i.test(K.nodeName)||da.push(na+'"query":'+ma+'"'+uu.path(K)+'"');for(qa in ea)da.push(na+'"'+qa+'":'+ma+'"'+ea[qa]+'"');for(K=K.firstChild;K;K=K.nextSibling)switch(K.nodeType){case 1:da.push(na+'"<'+K.nodeName.toLowerCase()+'>":'+ma+y(K,i,h,n+1));break;case 3:(ea=(K.textContent||"").crlf(" ").trim().overflow(30))&&da.push(na+'"text":'+ma+'"'+ea+'"')}return name+
"{"+Q+da.join(","+Q)+Q+" ".repeat(i*(n-1))+"}"}if(h&&n>h)return"...";var Q=i?"\n":"",ma=i?" ":"",na=" ".repeat(i*n);switch(mm.type(f)){case "null":return"null";case "undefined":return"undefined";case "global":return"global";case "boolean":case "number":return""+f;case "date":return f.toJSON();case "regexp":return"/"+f.source+"/";case "node":return ia(f);case "list":case "array":return E(f);case "style":return Z(mm.cast.style(f));case "attr":return Z(mm.cast.attr(f));case "object":case "function":return Z(f);
case "string":return'"'+f+'"'}return""}function G(f){var i="";f=f.split("-");var h=1,n=f.length;for(i=f[0];h<n;++h)i+=f[h].up(0);return{base:i,prefixed:ra+i.up(0)}}function s(f,i,h){typeof f==="string"&&(f=z.querySelector(f));switch(mm.complex(i,h)){case 1:return mm.cast.attr(f.attributes||[]);case 2:return(f.getAttribute(P[i]||i)||"")+"";case 3:i=mm.pair(i,h)}return H(f,i)}function H(f,i){typeof f==="string"&&(f=z.querySelector(f));for(var h in i)switch(h){case "checked":case "disabled":f[h]=!!i[h];
break;default:f.setAttribute(P[h]||h,i[h])}return f}function N(f,i,h){typeof f==="string"&&(f=z.querySelector(f));switch(mm.complex(i,h)){case 1:return mm.cast.style(q.getComputedStyle(f));case 2:return q.getComputedStyle(f)[ga[i]||i]||"";case 3:return O(f,mm.pair(i,h))}return O(f,i)}function O(f,i){typeof f==="string"&&(f=z.querySelector(f));var h,n,E,Z=/\d$/;for(h in i){n=i[h]+"";h=ga[h]||h;if(E=ya[h])E(f,h,n);else{Z.test(n)&&(n+="px");if(f.style[h]!==void 0)f.style[h]=n+"";else{E=ra+h.up(0);if(f.style[E]!==
void 0)f.style[E]=n+""}}}return f}function m(){}function B(f,i){var h;if(f)h=z.querySelector("#"+f);if(!h)if("textContent"in z.documentElement){h=z.createElement("style");h.id=f;h.textContent=i;z.head.appendChild(h)}return h}function x(){mm.deny("TODO: NOT IMPL","string")}function t(f){function i(){(f[0]||f).call(f[1]||null)}z.readyState==="complete"?i():z.addEventListener("DOMContentLoaded",i,false)}function w(f){var i=f[0]||f,h=f[1]||null;z.readyState==="complete"?i.call(h):q.addEventListener("load",
function(){i.call(h)},false)}function T(f){f=f||location+"";for(var i=[].slice.call(arguments).slice(1),h,n;(h=i.shift())&&(n=i.shift());)if(f.indexOf(h)>=0||RegExp(h).test(f))return n();h()}function U(f,i){this.__EVENT__=W(this.__EVENT__||[],function(h,n){return f===h&&i===n});this.__EVENT__.push(f,i);this.addEventListener(f,i,false);return this}function S(f,i){var h=this;this.__EVENT__=W(this.__EVENT__||[],function(n,E){return f===n&&i===E});this.__EVENT__.push(f,i);this.addEventListener(f,function(n){i.handleEvent?
i.handleEvent(n):i.call(h,n);h.removeEventListener(f,i,false)},false);return this}function fa(f,i){var h=this;this.__EVENT__=W(this.__EVENT__||[],function(n,E){var Z=f&&i?f===n&&i===E:f?f===n:i?i===E:true;Z&&h.removeEventListener(n,E,false);return Z});return this}function W(f,i){for(var h=[],n=0,E=f.length;n<E;n+=2)i(f[n],f[n+1])||h.push(f[n],f[n+1]);return h}function ja(f){f&&this.appendChild(f);return this}function $(){this.parentNode&&this.parentNode.removeChild(this);return this}function X(f){f&&
this.insertBefore(f,this.firstChild);return this}function aa(f){if(f.nodeType){for(;f=f.parentNode;)if(this===f)return true;return false}return!!this.querySelector(f)}function Y(f,i,h){f=mm.env.ie8?mm.cast.list(this.querySelectorAll(f),i,h):this.querySelectorAll(f).toArray(i,h);f.cut=ha;f.clear=V;return f}function ha(){return ka(this,"cut")}function V(){return ka(this,"clear")}function ka(f,i){for(var h=f.length;h--;)f[h][i]();return f}function j(){for(;this.lastChild;)this.removeChild(this.lastChild);
return this}function r(){for(var f=[],i=this,h,n,E=/^(?:html|head|body)$/i;i&&i.nodeType===1;){h="";if(E.test(i.nodeName)){f.push(i.nodeName);break}if(i.className)h="."+i.className;if(i.id)h+="#"+i.id;else if(i.parentNode&&i.parentNode.children.length>1){n=mm.cast.list(i.parentNode.children).indexOf(i);h+=":nth-child("+(n+1)+")"}f.push(i.nodeName+h);i=i.parentNode}return f.reverse().join(">").toLowerCase()}function k(f){f=f.trim();this.hasClass(f)||(this.className+=" "+f);return this}function p(f){f=
f.trim();this.className=(" "+this.className+" ").replace(" "+f+" ","").trim();return this}function F(f){f=f.trim();var i=this.hasClass(f);i?this.removeClass(f):this.addClass(f);return!i}function v(f){f=f.trim();return(" "+this.className+" ").indexOf(" "+f+" ")>=0}function L(){var f=/([a-z])([A-Z])/g,i=/-[a-z]/g,h,n,E=z.documentElement;E=mm.env.webkit?q.getComputedStyle(E,0):E.style;if(mm.env.webkit)for(h in E){if(typeof E[h]==="string"){h=n=E.item(h);if(h.indexOf("-")>=0)n=h.replace(i,function(Z){return Z[1].toUpperCase()});
ga[h]=n;ga[n]=n}}else for(h in E)if(typeof E[h]==="string"){i=mm.env.gecko&&!h.indexOf("Moz")?"-moz"+h.slice(3):mm.env.ie&&!h.indexOf("ms")?"-ms"+h.slice(2):mm.env.opera&&!h.indexOf("O")?"-o"+h.slice(1):h;n=i.replace(f,function(Z,ia,Q){return ia+"-"+Q.toLowerCase()});ga[n]=h;ga[h]=h}}var P={w:"width",h:"height",htmlFor:"for",className:"class"},ga={x:"left",y:"top",w:"width",h:"height",b:"border",m:"margin",p:"padding",c:"color",bc:"backgroundColor",bpx:"backgroundPositionX",bpy:"backgroundPositionY",
o:"opacity",fs:"fontSize",fw:"fontWeight",r:"rotate",sx:"scaleX",sy:"scaleY",tx:"translateX",ty:"translateY",mb_x:mm.env.mobile?"translateX":"left",mb_y:mm.env.mobile?"translateY":"top"},sa=function(f,i,h){f.style[i]=h},ya={zIndex:sa,opacity:sa,lineHeight:sa,fontWeight:sa,userSelect:function(f,i,h){f=h!=="none";i=z.body;h=G("user-select");if(i.style[h.base]!==void 0)i.style[h.base]=f?"":"none";else if(i.style[h.mod]!==void 0)i.style[h.mod]=f?"":"none"}},ra=mm.env.webkit?"Webkit":mm.env.gecko?"Moz":
mm.env.ie?"ms":mm.env.opera?"O":"";if(typeof module!=="undefined")module.exports={uu:M};(function(f){uu=f(M,{docs:"http://code.google.com/p/mofmof-js/wiki/",node:R,head:function(){return R(z.head,arguments)},body:function(){return R(z.body,arguments)},text:function(i){return z.createTextNode(i)},query:J,attr:f(s,{set:H}),css:f(N,{set:O}),style:f(m,{create:B,add:x}),uid:u,dump:A,vendor:G,boot:mm.env.ie8?uu_boot_ie678:t,main:w,page:T});"a,b,br,button,dd,div,dl,dt,form,h1,h2,h3,h4,h5,h6,hr,i,img,iframe,input,li,ol,option,p,pre,select,span,table,tbody,tr,td,th,thead,tfoot,textarea,u,ul,abbr,article,aside,audio,canvas,datalist,details,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(",").each(function(i){uu[i]=
function(){return R(z.createElement(i),arguments)}})})(mm.mix);(function(f,i,h){f(z,{html:z.documentElement,head:z.getElementsByTagName("head")[0]});var n={on:U,one:S,off:fa,add:ja,cut:$,top:X,has:aa,find:Y,clear:j,path:r,addClass:k,hasClass:v,toggleClass:F,removeClass:p};f(i.prototype,n);f(h.prototype,n);q.NodeList&&f(NodeList.prototype,{toArray:Array.prototype.slice})})(mm.wiz,q.HTMLElement||q.Element,q.HTMLDocument||q.Document);uu.boot(function(){L();q.boot&&q.boot();q.main&&w(q.main)})}(this.self||
global,this.document);
(function(q,z,M){function J(m,B){var x;if(isFinite(B))x=+B;else{if(/px$/.test(B))x=parseFloat(B)||0;else{if(/pt$/.test(B))x=parseFloat(B)*4/3|0;else{if(/em$/.test(B)){x=M(m,0).fontSize;var t=/pt$/.test(x)?4/3:1;x=parseFloat(B)*parseFloat(x)*t|0}else{x=B;t=m.style;var w=[t.left,0,0];if(mm.env.webkit){w[1]=t.getPropertyValue("position");w[2]=t.getPropertyValue("display");t.setProperty("position","absolute","important");t.setProperty("display","block","important")}t.setProperty("left",x,"important");
x=parseInt(M(m).left);t.removeProperty("left");t.setProperty("left",w[0],"");if(mm.env.webkit){t.removeProperty("position");t.removeProperty("display");t.setProperty("position",w[1],"");t.setProperty("display",w[2],"")}x=x||0}x=x}x=x}x=x}return x}function R(m,B){B=B||uu.BORDER|uu.MARGIN|uu.PADDING;var x={"0px":0,"1px":1,"2px":2,"3px":3,thin:1,medium:3,thick:5},t=M(m,0),w,T=t.marginTop,U=t.marginLeft,S=t.marginRight,fa=t.marginBottom,W=t.borderTopWidth,ja=t.borderLeftWidth,$=t.borderRightWidth,X=t.borderBottomWidth,
aa=t.paddingTop,Y=t.paddingLeft,ha=t.paddingRight;t=t.paddingBottom;if(B&uu.MARGIN){T=(w=x[T])===void 0?J(m,T):w;U=(w=x[U])===void 0?J(m,U):w;S=(w=x[S])===void 0?J(m,S):w;fa=(w=x[fa])===void 0?J(m,fa):w}if(B&uu.BORDER){W=(w=x[W])===void 0?W==="auto"?0:J(m,W):w;ja=(w=x[ja])===void 0?ja==="auto"?0:J(m,ja):w;$=(w=x[$])===void 0?$==="auto"?0:J(m,$):w;X=(w=x[X])===void 0?X==="auto"?0:J(m,X):w}if(B&uu.PADDING){aa=(w=x[aa])===void 0?aa==="auto"?0:J(m,aa):w;Y=(w=x[Y])===void 0?Y==="auto"?0:J(m,Y):w;ha=(w=
x[ha])===void 0?ha==="auto"?0:J(m,ha):w;t=(w=x[t])===void 0?t==="auto"?0:J(m,t):w}return{m:{top:T,left:U,right:S,bottom:fa},b:{top:W,left:ja,right:$,bottom:X},p:{top:aa,left:Y,right:ha,bottom:t}}}function u(m,B){function x(w,T){for(var U=0,S=0;w&&w!==T;){U+=w.offsetLeft||0;S+=w.offsetTop||0;w=w.offsetParent}return{x:U,y:S,from:w?T:z.html}}if(!m||!m.parentNode)return{x:0,y:0,from:null};if(B)return x(m,B);var t=M(m);if(t.position==="relative"||t.position==="absolute")if(t.left!=="auto"&&t.left!=="0px"&&
t.top!=="auto"&&t.top!=="0px")return{x:parseInt(t.left),y:parseInt(t.top),from:m.offsetParent};return function(w){for(var T=0,U=0,S,fa;w;){T+=w.offsetLeft||0;U+=w.offsetTop||0;if(w=w.offsetParent){S=M(w).position;if(S==="relative"||S==="absolute"){fa=w;break}}}return{x:T,y:U,from:fa||z.body}}(m)}function A(m){m=M(m);return{w:parseFloat(m.width),h:parseFloat(m.height)}}function y(m,B){var x=u(m,B),t=A(m);x.w=t.w;x.h=t.h;return x}function G(m){var B=m.getBoundingClientRect(),x=0,t=0;x=m.offsetWidth||
B.right-B.left;t=m.offsetHeight||B.bottom-B.top;return{w:x,h:t}}function s(m,B){var x=u(m,B),t=G(m);x.w=t.w;x.h=t.h;return x}function H(){}function N(m){m.style.position="static";return{}}function O(m){var B=u(m),x=R(m,uu.MARGIN).m;m=m.style;var t=B.x-x.left,w=B.y-x.top;m.left=t+"px";m.top=w+"px";m.position="absolute";return{x:t,y:w,offset:B,margin:x}}(function(m){uu.BORDER=1;uu.MARGIN=2;uu.PADDING=4;uu.calc={px:J,edge:R,offset:u,boxSize:A,boxRect:y,vboxSize:G,vboxRect:s};uu.css.box=m(H,{attach:N,
detach:O})})(mm.mix)})(this,this.document,this.getComputedStyle);
